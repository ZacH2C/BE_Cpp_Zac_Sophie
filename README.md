# BE_Cpp_Zac_Sophie

Notre application permet de détecter des flashs lumineux pouvant provoquer des crises d'épilepsie ainsi que de détecter des convulsions. Dans le contexte du Covid-19, nous avons réalisé ce projet sous simulateur Arduino, ce qui nous a obligé à simuler tous les capteurs et actionneurs. Les valeurs qu'ils nous retournent ne sont donc pas de "vraies" valeurs et nous n'actionnons pas de vrais actionneurs. 
Les fichiers core_simulation correspondent au simulateur Arduino, les fichiers mydevices correspondent aux différents actionneurs que nous avons simulés, les fichiers Cateurs et Actionneurs correspondent à la déclaration de classes mères pour "ranger" les différents devices selon leurs caractéristiques, les fichiers modifs_env nous on permis d'implémenter des actionneurs qui servaient à modifier l'environnement et ainsi nous mettre dans des sittuations de crises épileptiques, les fichiers vecteur_accel déclarent la classe et les opérations et méthodes associée à la classe vecteur_accel. Enfin, les fichiers application nous ont permis de coder notre application, le fichier board.cpp nous permettait de faire les raccordements entre nos différents capteurs et la board et le fichier sketch_ino nous permettait de faire les différents paramétrages de notre carte et de faire tourner notre application dans la loop.

Notre application fonctionne soit en mode détection de lumière soit en mode détection de convulsion, il faudra donc réaliser les étapes suivantes pour changer de mode :
Dans le fichier board.cpp, il faut que les lignes du Bouton Poussoir et du Bipeur soit toujours décommentés.
- Si l'on veut utiliser la lumière, on laisse aussi les lignes raccordant le luxmètre et la LED intelligente (dont l'argument fixe la période de clignottment, en ms). Ensuite, dans le fichier sketch_ino, on commente la ligne "mon_application->do_one_step_convulsions(1000);" et on garde "mon_application->do_one_step_lumiere(10);" .
- Si l'on veut utiliser le détcteur de convulsions, on commente dans le fichier board.cpp les lignes qui raccordent le luxmètre et la LED intelligente et on décommente tout le reste. Dans le fichier sketch_ino, on laisse la ligne "mon_application->do_one_step_convulsions(1000);" et on commente "mon_application->do_one_step_lumiere(10);".

Pour simuler une lumière qui peut provoquer une crise d'épilepsie, il faut fixer la période de la LED intelligente (dans le fichier board.cpp) entre 25 et 33.
Pour simuler des secousses qui provoquent un déclenchement de la détection de convulsions, il faut choisir une amplitude du Shaker supérieure à 3. A 1, les secousses sont suffisamment faibles pour être détectées parfois mais elles ne déclencheront pas l'avertissement car trop peu importantes successivement.

Lorsqu'un clignotement à risque ou des convulsions sont détectées, un bip sonore est émis jusqu'à appui sur un bouton par l'utilisateur. L'appui sur ce bouton est simulé par l'ajout d'un fichier "on.txt" dans le répertoire de l'executable.
